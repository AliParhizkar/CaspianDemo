@page "/AcceptingStudyField"
@inherits SimplePage<AcceptingStudyField>
@inject AcceptingStudyFieldService service123

<div style="width:90%">
    <Grid @bind-Data="GridData" TEntity="AcceptingStudyField" Search="SearchData" Service="service123" TableHeight="500" Title="رشته پدیرش" WindowStyle="width:500px">
        <Columns>
            <GridColumn TEntity="AcceptingStudyField" Field="t => t.AcceptingFaculty.AcceptingUniversity.Title" Title="دانشگاه پدیرش" />
            <GridColumn TEntity="AcceptingStudyField" Field="t => t.AcceptingFaculty.Title" Title="دانشکده پدیرش" />
            <GridColumn TEntity="AcceptingStudyField" Field="t => t.StudyField.Department.Faculty.Title" Title="دانشکده من" />
            <GridColumn TEntity="AcceptingStudyField" Field="t => t.StudyField.Department.Title" Title="گروه من" />
            <GridColumn TEntity="AcceptingStudyField" Field="t => t.StudyField.Title" Title="رشته من" />
            <GridColumn TEntity="AcceptingStudyField" Field="t => t.Title" Title="عنوان" />
            <GridColumn TEntity="AcceptingStudyField" Field="t => t.Code" Title="کد" />
        </Columns>
        <EditFormTemplate>
            <table style="width:90%;margin:0 auto">
                <tr>
                    <td><label>رشته من</label></td>
                    <td>
                        <ComboBox @bind-Value="GridData.StudyFieldId" TValue="int" TEntity="StudyField" DisplayTextExpression="t => t.Title" Server
                                  OnDataBinding="@((query, str) => 
                                  {
                                        return query.Where(t => t.Title.Contains(str) || t.Code.Contains(str));
                                  })"
                                  OrderByExpression="t => t.Title" />
                    </td>
                </tr>
                <tr>
                    <td><label>دانشکده پدیرش</label></td>
                    <td>
                        <ComboBox @bind-Value="GridData.AcceptingFacultyId" TValue="int" TEntity="AcceptingFaculty" DisplayTextExpression="t => t.Title" OrderByExpression="t => t.Title" />
                    </td>
                </tr>
                <tr>
                    <td><label>عنوان</label></td>
                    <td>
                        <StringTextBox @bind-Value="GridData.Title" />
                    </td>
                </tr>
                <tr>
                    <td><label>کد</label></td>
                    <td>
                        <StringTextBox @bind-Value="GridData.Code" />
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <FormCommandButton />
                    </td>
                </tr>
            </table>
        </EditFormTemplate>
    </Grid>
</div>


@code {

}
